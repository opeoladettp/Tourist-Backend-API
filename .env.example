# =============================================================================
# TOURLICITY BACKEND API - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your environment
# =============================================================================

# Environment Configuration
NODE_ENV=development
PORT=5000
BASE_URL=http://localhost:5000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB Configuration (Required)
# For local development: mongodb://localhost:27017/tourlicity
# For MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/tourlicity
MONGODB_URI=mongodb://localhost:27017/tourlicity

# Redis Configuration (Required for notification queues)
# For local development: redis://localhost:6379
# For Redis Cloud: redis://username:password@host:port
REDIS_URL=redis://localhost:6379

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration (Required)
# Generate secure keys with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long
JWT_REFRESH_SECRET=your-refresh-jwt-secret-key-minimum-32-characters-long
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# Google OAuth Configuration (Required for authentication)
# Get these from: https://console.developers.google.com/
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Security Settings
BCRYPT_ROUNDS=10
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# =============================================================================
# AWS CONFIGURATION (Optional - for S3 storage)
# =============================================================================
# If not configured, the system will use local file storage
# Get these from AWS IAM: https://console.aws.amazon.com/iam/

AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-s3-bucket-name

# =============================================================================
# EMAIL CONFIGURATION (Optional - for notifications)
# =============================================================================
# If not configured, email notifications will be disabled

# SMTP Configuration (Gmail example)
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=your-email@gmail.com

# Legacy email config (for backward compatibility)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# =============================================================================
# PUSH NOTIFICATIONS (Optional - for web push)
# =============================================================================
# If not configured, push notifications will be disabled
# Generate VAPID keys with: npx web-push generate-vapid-keys

VAPID_EMAIL=mailto:admin@yourdomain.com
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# =============================================================================
# RATE LIMITING (Optional - defaults provided)
# =============================================================================

RATE_LIMIT_WINDOW=3600
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_WINDOW=900
RATE_LIMIT_AUTH_MAX_REQUESTS=5
RATE_LIMIT_FILE_UPLOAD_WINDOW=3600
RATE_LIMIT_FILE_UPLOAD_MAX_REQUESTS=10
RATE_LIMIT_PREMIUM_MULTIPLIER=10
RATE_LIMIT_ADMIN_MULTIPLIER=50

# =============================================================================
# LOGGING & DEBUGGING
# =============================================================================

LOG_LEVEL=info

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
#
# Required for basic functionality:
# - MONGODB_URI
# - JWT_SECRET
# - GOOGLE_CLIENT_ID & GOOGLE_CLIENT_SECRET
#
# Optional but recommended:
# - REDIS_URL (for notification queues)
# - AWS credentials (for S3 file storage)
# - Email configuration (for notifications)
# - VAPID keys (for push notifications)
#
# The system will gracefully degrade if optional services are not configured:
# - Without Redis: Direct email sending (no queues)
# - Without S3: Local file storage in uploads/ directory
# - Without Email: No email notifications
# - Without VAPID: No push notifications
#
# =============================================================================